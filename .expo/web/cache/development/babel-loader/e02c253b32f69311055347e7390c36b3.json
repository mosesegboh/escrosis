{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _excluded = [\"label\", \"icon\", \"hidePassword\", \"isPassword\", \"setHidePassword\", \"isDate\", \"showDatePicker\"];\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\jobs\\\\MyProjects\\\\react-native\\\\my-app\\\\screens\\\\SignUp.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { StatusBar } from 'expo-status-bar';\nimport { Formik } from 'formik';\nimport { Octicons, Ionicons, Fontisto, ActivityIndicator } from '@expo/vector-icons';\nimport { StyledContainer, InnerContainer, PageLogo, PageTitle, SubTitle, StyledFormArea, LeftIcon, StyledInputLabel, StyledTextInput, RightIcon, StyledButton, ButtonText, Colors, MsgBox, Line, ExtraView, ExtraText, TextLink, TextLinkContent } from \"./../components/styles\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nvar brand = Colors.brand,\n    darkLight = Colors.darkLight,\n    primary = Colors.primary;\nimport KeyboardAvoidingWrapper from \"./../components/KeyboardAvoidingWrapper\";\nimport DateTimePicker from '@react-native-community/datetimepicker';\n\nvar SignUp = function SignUp(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      hidePassword = _useState2[0],\n      setHidePassword = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      show = _useState4[0],\n      setShow = _useState4[1];\n\n  var _useState5 = useState(new Date(2000, 0, 1)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      date = _useState6[0],\n      setDate = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      message = _useState8[0],\n      setMessage = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      messageType = _useState10[0],\n      setMessageType = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      dob = _useState12[0],\n      setDob = _useState12[1];\n\n  var onChange = function onChange(event, selectedDate) {\n    var currentDate = selectedDate || date;\n    setShow(false);\n    setDate(currentDate);\n    setDob(currentDate);\n  };\n\n  var showDatePicker = function showDatePicker() {\n    setShow('date');\n  };\n\n  var handleSignUp = function handleSignUp(credentials, setSubmitting) {\n    handleMessage(null);\n    var url = 'http://127.0.0.1:5000/user/signup';\n    axios.post(url, credentials).then(function (response) {\n      var result = response.data;\n      var message = result.message,\n          status = result.status,\n          data = result.data;\n\n      if (status !== 'SUCCESS') {\n        handleMessage(message, status);\n      } else {\n        navigation.navigate('Welcome', _objectSpread({}, data));\n      }\n\n      setSubmitting(false);\n    }).catch(function (error) {\n      console.log(error);\n      setSubmitting(false);\n      handleMessage(\"An error occured. Check your network and try again!\");\n    });\n  };\n\n  return React.createElement(KeyboardAvoidingWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, React.createElement(StyledContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    style: \"dark\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }), React.createElement(InnerContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, React.createElement(PageTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, \"Escrosis\"), React.createElement(SubTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"Account SignUp\"), show && React.createElement(DateTimePicker, {\n    testID: \"dateTimePicker\",\n    value: date,\n    mode: \"date\",\n    is24Hour: true,\n    display: \"default\",\n    onChange: onChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }), React.createElement(Formik, {\n    initialValues: {\n      name: '',\n      email: '',\n      dateOfBirth: '',\n      password: '',\n      confirmPassword: ''\n    },\n    onSubmit: function onSubmit(values, _ref2) {\n      var setSubmitting = _ref2.setSubmitting;\n\n      if (values.email == '' || values.password == '' || values.name == '' || values.dateOfBirth == '' || values.confirmPassword == '') {\n        handleMessage('Please fill all fields');\n        setSubmitting(false);\n      } else if (values.password !== values.confirmPassword) {\n        handleMessage('Passwords do not match');\n        setSubmitting(false);\n      } else {\n        handleSignUp(values, setSubmitting);\n      }\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, function (_ref3) {\n    var handleChange = _ref3.handleChange,\n        handleBlur = _ref3.handleBlur,\n        handleSubmit = _ref3.handleSubmit,\n        values = _ref3.values,\n        isSubmitting = _ref3.isSubmitting;\n    return React.createElement(StyledFormArea, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 21\n      }\n    }, React.createElement(MyTextInput, {\n      label: \"Full Name\",\n      icon: \"person\",\n      placeholder: \"Egboh Moses\",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('name'),\n      onBlur: handleBlur('name'),\n      value: values.name,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 25\n      }\n    }), React.createElement(MyTextInput, {\n      label: \"Email Address\",\n      icon: \"mail\",\n      placeholder: \"mosesegboh@gmail.com\",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('email'),\n      onBlur: handleBlur('email'),\n      value: values.email,\n      keyboardType: \"email-address\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 25\n      }\n    }), React.createElement(MyTextInput, {\n      label: \"Date Of Birth\",\n      icon: \"calendar\",\n      placeholder: \"YYYY - MM - DD\",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('dateOfBirth'),\n      onBlur: handleBlur('dateOfBirth'),\n      value: dob ? dob.toDateString() : '',\n      isDate: true,\n      editable: false,\n      showDatePicker: showDatePicker,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }), React.createElement(MyTextInput, {\n      label: \"Password\",\n      icon: \"lock\",\n      placeholder: \"* * * * * * \",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('password'),\n      onBlur: handleBlur('password'),\n      value: values.password,\n      secureTextEntry: hidePassword,\n      isPassword: true,\n      hidePassword: hidePassword,\n      setHidePassword: setHidePassword,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 25\n      }\n    }), React.createElement(MyTextInput, {\n      label: \"Confirm Password\",\n      icon: \"lock\",\n      placeholder: \"* * * * * * \",\n      placeholderTextColor: darkLight,\n      onChangeText: handleChange('confirmPassword'),\n      onBlur: handleBlur('confirmPassword'),\n      value: values.confirmPassword,\n      secureTextEntry: hidePassword,\n      isPassword: true,\n      hidePassword: hidePassword,\n      setHidePassword: setHidePassword,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 25\n      }\n    }), React.createElement(MsgBox, {\n      type: messageType,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 25\n      }\n    }, message), !isSubmitting && React.createElement(StyledButton, {\n      onPress: handleSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 44\n      }\n    }, React.createElement(ButtonText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 29\n      }\n    }, \"Login\")), isSubmitting && React.createElement(StyledButton, {\n      disabled: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 43\n      }\n    }, React.createElement(ActivityIndicator, {\n      size: \"large\",\n      color: primary,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 29\n      }\n    })), React.createElement(Line, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }), React.createElement(ExtraView, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 25\n      }\n    }, React.createElement(ExtraText, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 29\n      }\n    }, \"Already have an account \"), React.createElement(TextLink, {\n      onPress: function onPress() {\n        return navigation.navigate('Welcome');\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 29\n      }\n    }, React.createElement(TextLinkContent, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 33\n      }\n    }, \"Sign Up\"))));\n  }))));\n};\n\nvar MyTextInput = function MyTextInput(_ref4) {\n  var label = _ref4.label,\n      icon = _ref4.icon,\n      hidePassword = _ref4.hidePassword,\n      isPassword = _ref4.isPassword,\n      setHidePassword = _ref4.setHidePassword,\n      isDate = _ref4.isDate,\n      showDatePicker = _ref4.showDatePicker,\n      props = _objectWithoutProperties(_ref4, _excluded);\n\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, React.createElement(LeftIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 13\n    }\n  }, React.createElement(Octicons, {\n    name: icon,\n    size: 30,\n    color: brand,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  })), React.createElement(StyledInputLabel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, label), !isDate && React.createElement(StyledTextInput, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 25\n    }\n  })), isDate && React.createElement(TouchableOpacity, {\n    onPress: showDatePicker,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 25\n    }\n  }, React.createElement(StyledTextInput, _extends({}, props, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 17\n    }\n  }))), isPassword && React.createElement(RightIcon, {\n    onPress: function onPress() {\n      return setHidePassword(!hidePassword);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, React.createElement(Ionicons, {\n    name: hidePassword ? 'md-eye-off' : 'md-eye',\n    size: 30,\n    color: darkLight,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  })));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["C:/Users/USER/Desktop/jobs/MyProjects/react-native/my-app/screens/SignUp.js"],"names":["React","useState","StatusBar","Formik","Octicons","Ionicons","Fontisto","ActivityIndicator","StyledContainer","InnerContainer","PageLogo","PageTitle","SubTitle","StyledFormArea","LeftIcon","StyledInputLabel","StyledTextInput","RightIcon","StyledButton","ButtonText","Colors","MsgBox","Line","ExtraView","ExtraText","TextLink","TextLinkContent","brand","darkLight","primary","KeyboardAvoidingWrapper","DateTimePicker","SignUp","navigation","hidePassword","setHidePassword","show","setShow","Date","date","setDate","message","setMessage","messageType","setMessageType","dob","setDob","onChange","event","selectedDate","currentDate","showDatePicker","handleSignUp","credentials","setSubmitting","handleMessage","url","axios","post","then","response","result","data","status","navigate","catch","error","console","log","name","email","dateOfBirth","password","confirmPassword","values","handleChange","handleBlur","handleSubmit","isSubmitting","toDateString","MyTextInput","label","icon","isPassword","isDate","props"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport { StatusBar } from 'expo-status-bar';\r\n\r\n//formik for our forms\r\nimport {Formik} from 'formik';\r\n\r\n//icons\r\nimport {Octicons, Ionicons, Fontisto, ActivityIndicator} from '@expo/vector-icons';\r\n\r\n\r\nimport {\r\n    StyledContainer,\r\n    InnerContainer,\r\n    PageLogo,\r\n    PageTitle,\r\n    SubTitle,\r\n    StyledFormArea,\r\n    LeftIcon,\r\n    StyledInputLabel,\r\n    StyledTextInput,\r\n    RightIcon,\r\n    StyledButton,\r\n    ButtonText,\r\n    Colors,\r\n    MsgBox,\r\n    Line,\r\n    ExtraView,\r\n    ExtraText,\r\n    TextLink,\r\n    TextLinkContent,\r\n} from './../components/styles';\r\nimport {View, TouchableOpacity } from 'react-native';\r\n\r\n//colors\r\nconst {brand, darkLight, primary} = Colors;\r\n\r\n//keyboard avaoiding view\r\nimport KeyboardAvoidingWrapper from './../components/KeyboardAvoidingWrapper';\r\n\r\n//import date time picker\r\nimport DateTimePicker from '@react-native-community/datetimepicker';\r\n\r\n\r\nconst SignUp = ({navigation}) => {\r\n    const [hidePassword, setHidePassword] = useState(true);\r\n    const [show, setShow] = useState(false);\r\n    const [date, setDate] = useState(new Date(2000, 0, 1));\r\n\r\n     //state varible to handle message and message type.\r\n     const [message, setMessage] = useState();\r\n     const [messageType, setMessageType] = useState();\r\n\r\n    //Actual date of birth the user picked\r\n    const [dob, setDob] = useState();\r\n\r\n    const onChange =  (event, selectedDate) => {\r\n        const currentDate = selectedDate || date;\r\n        setShow(false);\r\n        setDate(currentDate);\r\n        setDob(currentDate);\r\n    };\r\n\r\n    const showDatePicker = () => {\r\n        setShow('date');\r\n    };\r\n\r\n\r\n    //handle sign up\r\n     const handleSignUp = (credentials, setSubmitting) => {\r\n         handleMessage(null);\r\n         const url = 'http://127.0.0.1:5000/user/signup'\r\n     axios.post(url, credentials)\r\n     .then((response)=>{\r\n         const result = response.data;\r\n         const {message, status, data} = result;\r\n \r\n         //check the status of the message, ref styled component\r\n         if( status !== 'SUCCESS' ) {\r\n             handleMessage(message, status);\r\n         }else{\r\n             navigation.navigate('Welcome', {...data});\r\n         }\r\n         setSubmitting(false);\r\n \r\n     }).catch((error) => {\r\n         console.log(error);\r\n         setSubmitting(false);\r\n         handleMessage(\"An error occured. Check your network and try again!\")\r\n     });\r\n     };\r\n\r\n\r\n\r\n    return (\r\n        <KeyboardAvoidingWrapper>\r\n        <StyledContainer>\r\n            <StatusBar style=\"dark\"/>\r\n            <InnerContainer>\r\n                {/* <PageLogo resizeMode=\"cover\" /> */}\r\n                <PageTitle>Escrosis</PageTitle>\r\n                <SubTitle>Account SignUp</SubTitle>\r\n\r\n                {show && (\r\n                    <DateTimePicker\r\n                    testID=\"dateTimePicker\"\r\n                    value={date}\r\n                    mode='date'\r\n                    is24Hour={true}\r\n                    display=\"default\"\r\n                    onChange={onChange}\r\n                    />\r\n                )}\r\n\r\n                <Formik\r\n                     initialValues={{name: '',email: '', dateOfBirth: '', password: '', confirmPassword: ''}}\r\n                     onSubmit={(values, {setSubmitting}) => {\r\n                        if (values.email == '' ||\r\n                            values.password == '' || \r\n                            values.name == '' || \r\n                            values.dateOfBirth == '' || \r\n                            values.confirmPassword == '') {\r\n                            handleMessage('Please fill all fields');\r\n                            setSubmitting(false) \r\n                        }else if( values.password !== values.confirmPassword ) {\r\n                            handleMessage('Passwords do not match');\r\n                            setSubmitting(false) \r\n                        }\r\n                        else{\r\n                            handleSignUp(values, setSubmitting);\r\n                        }\r\n                     }}\r\n                >\r\n                    {({handleChange, handleBlur, handleSubmit, values, isSubmitting}) => (\r\n                    <StyledFormArea>\r\n                        <MyTextInput \r\n                            label = \"Full Name\"\r\n                            icon = \"person\"\r\n                            placeholder=\"Egboh Moses\"\r\n                            placeholderTextColor = {darkLight}\r\n                            onChangeText = {handleChange('name')}\r\n                            onBlur = {handleBlur('name')}  \r\n                            value={values.name}\r\n                        />\r\n\r\n                        <MyTextInput \r\n                            label = \"Email Address\"\r\n                            icon = \"mail\"\r\n                            placeholder=\"mosesegboh@gmail.com\"\r\n                            placeholderTextColor = {darkLight}\r\n                            onChangeText = {handleChange('email')}\r\n                            onBlur = {handleBlur('email')}  \r\n                            value={values.email}\r\n                            keyboardType = \"email-address\"\r\n                        />\r\n\r\n                        <MyTextInput \r\n                            label = \"Date Of Birth\"\r\n                            icon = \"calendar\"\r\n                            placeholder=\"YYYY - MM - DD\"\r\n                            placeholderTextColor = {darkLight}\r\n                            onChangeText = {handleChange('dateOfBirth')}\r\n                            onBlur = {handleBlur('dateOfBirth')}  \r\n                            value={dob ? dob.toDateString() : ''}\r\n                            isDate = {true}\r\n                            editable = {false}\r\n                            showDatePicker = {showDatePicker}\r\n                        />\r\n\r\n                        <MyTextInput \r\n                            label = \"Password\"\r\n                            icon = \"lock\"\r\n                            placeholder=\"* * * * * * \"\r\n                            placeholderTextColor = {darkLight}\r\n                            onChangeText = {handleChange('password')}\r\n                            onBlur = {handleBlur('password')}  \r\n                            value={values.password}\r\n                            secureTextEntry={hidePassword}\r\n                            isPassword = {true}\r\n                            hidePassword = {hidePassword}\r\n                            setHidePassword = {setHidePassword}\r\n                        />\r\n\r\n                        <MyTextInput \r\n                            label = \"Confirm Password\"\r\n                            icon = \"lock\"\r\n                            placeholder=\"* * * * * * \"\r\n                            placeholderTextColor = {darkLight}\r\n                            onChangeText = {handleChange('confirmPassword')}\r\n                            onBlur = {handleBlur('confirmPassword')}  \r\n                            value={values.confirmPassword}\r\n                            secureTextEntry={hidePassword}\r\n                            isPassword = {true}\r\n                            hidePassword = {hidePassword}\r\n                            setHidePassword = {setHidePassword}\r\n                        />\r\n\r\n                        <MsgBox type={messageType}>{message}</MsgBox>\r\n                        \r\n                        {!isSubmitting && (<StyledButton onPress={handleSubmit}>\r\n                            <ButtonText>\r\n                                Login\r\n                            </ButtonText>\r\n                        </StyledButton>)}\r\n\r\n                        {isSubmitting && (<StyledButton disabled={true}>\r\n                            <ActivityIndicator size=\"large\" color={primary} />\r\n                        </StyledButton>)}\r\n                        <Line />\r\n\r\n                        <ExtraView>\r\n                            <ExtraText>Already have an account </ExtraText>\r\n                            <TextLink onPress={()=>navigation.navigate('Welcome')}>\r\n                                <TextLinkContent>Sign Up</TextLinkContent>\r\n                            </TextLink>\r\n                        </ExtraView>\r\n                    </StyledFormArea>) }\r\n                </Formik>\r\n            </InnerContainer>\r\n        </StyledContainer>\r\n        </KeyboardAvoidingWrapper>\r\n    );\r\n};\r\n\r\nconst MyTextInput = ({label, icon,hidePassword,isPassword, setHidePassword, isDate, showDatePicker, ...props}) => {\r\n    return (\r\n        <View>\r\n            <LeftIcon>\r\n                <Octicons name={icon} size={30} color={brand}/>\r\n            </LeftIcon>\r\n            <StyledInputLabel>{label}</StyledInputLabel>\r\n            {!isDate && <StyledTextInput {...props} />}\r\n            {isDate && (<TouchableOpacity onPress={showDatePicker}>\r\n                <StyledTextInput {...props} />\r\n                </TouchableOpacity>)}\r\n            {isPassword && (\r\n                <RightIcon onPress = {() => setHidePassword(!hidePassword)} > \r\n                    <Ionicons name={hidePassword ? 'md-eye-off' : 'md-eye'} size={30} color={darkLight}  />\r\n                </RightIcon>\r\n            )}\r\n        </View>\r\n    );\r\n};\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}